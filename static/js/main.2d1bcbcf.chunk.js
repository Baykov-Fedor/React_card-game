(this.webpackJsonptraining=this.webpackJsonptraining||[]).push([[0],{39:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(1),c=r.n(n),s=r(12),i=r.n(s),u=r(3),d=(r(39),r(11)),o=r.n(d),l=r(21),f=r(2),b=r(13),j=r(4),O=r(24),p=r(25),h=r(15),m=r(28),S=r(27);r(41);var y=function(e){return Object(a.jsx)("div",{className:"card",children:e.backSide?Object(a.jsx)("div",{className:"card--back",children:e.idx}):Object(a.jsx)("div",{className:"card--face ".concat(e.suit),children:Object(a.jsx)("p",{className:"card--face--number",children:e.number})})})};r(42);var C=Object(u.b)((function(e){return{arrOfCards:e.cards.arrOfCards,cardsState:e.cards.cardsState}}))((function(e){var t=e.arrOfCards,r=e.cardsState,n=e.onClick;return Object(a.jsx)("div",{className:"cardDesk",onClick:n,children:t.map((function(e,t){return Object(a.jsx)(y,{idx:t,number:e.split("-")[0],suit:e.split("-")[1],backSide:0===r[t]},t)}))})})),T=r(16),_=(r(43),function(e){var t=e.disabled,r=e.children,n=Object(T.a)(e,["disabled","children"]);return Object(a.jsx)("button",Object(f.a)(Object(f.a)({disabled:t,className:"".concat(t?"disabled":null," custom-button")},n),{},{children:r}))});r(44);var N=Object(u.b)((function(e){return{userName:e.user.currentUser,currentTurns:e.user.currentTurns}}))((function(e){return Object(a.jsxs)("div",{className:"deck",children:[Object(a.jsxs)("div",{className:"deck--elements player",children:["Player: ",e.userName]}),Object(a.jsxs)("div",{className:"deck--elements turn",children:["Turn: ",e.currentTurns]}),Object(a.jsx)(_,{onClick:e.toLeaderBoard,children:"Leaderboard"}),Object(a.jsx)(_,{onClick:e.reset,children:"Retry"}),Object(a.jsx)(_,{onClick:e.win,children:"Cheat"})]})})),v=r(10);r(45);var E=function(e){return Object(a.jsx)("div",{className:"modal-window",children:e.children})};r(46);var x=Object(u.b)((function(e){return{globalDifficulty:e.user.currentDifficulty}}))((function(e){var t=e.toLeaderBoard,r=e.globalDifficulty,c=(Object(T.a)(e,["toLeaderBoard","globalDifficulty"]),Object(n.useState)(r)),s=Object(v.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(localStorage.getItem(i)),o=Object(v.a)(d,2),l=o[0],f=o[1];return Object(n.useEffect)((function(){return f(localStorage.getItem(i))}),[i]),Object(a.jsx)(E,{children:Object(a.jsxs)("div",{className:"leaderboard",children:[Object(a.jsxs)("div",{className:"leaderboard--controls",children:[Object(a.jsx)(_,{onClick:function(){return u("easy")},disabled:"easy"===i,children:"Easy"}),Object(a.jsx)(_,{onClick:function(){return u("medium")},disabled:"medium"===i,children:"Meduim"}),Object(a.jsx)(_,{onClick:function(){return u("hard")},disabled:"hard"===i,children:"Hard"})]}),Object(a.jsxs)("table",{className:"leaderboard--table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Player Name"}),Object(a.jsx)("th",{children:"Number of Turns"})]})}),Object(a.jsx)("tbody",{children:null!==l?function(e){var t=JSON.parse(e),r=[];for(var a in t)r.push([a,t[a]]);return r.sort((function(e,t){return e[1]-t[1]}))}(l).map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e[0]}),Object(a.jsx)("td",{children:e[1]})]},t)})):null})]}),Object(a.jsxs)("div",{className:"leaderboard--controls",children:[Object(a.jsx)(_,{onClick:function(){localStorage.clear(),f(null)},children:"Clear Leaderboard"}),Object(a.jsx)(_,{onClick:t,children:"Close"})]})]})})})),R=r(6),A=r(8),g=["2-diamonds","2-clubs","2-hearts","2-spades","3-diamonds","3-clubs","3-hearts","3-spades","4-diamonds","4-clubs","4-hearts","4-spades","5-diamonds","5-clubs","5-hearts","5-spades","6-diamonds","6-clubs","6-hearts","6-spades","7-diamonds","7-clubs","7-hearts","7-spades","8-diamonds","8-clubs","8-hearts","8-spades","9-diamonds","9-clubs","9-hearts","9-spades"];function U(e){for(var t=JSON.parse(JSON.stringify(e)),r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),n=[t[a],t[r]];t[r]=n[0],t[a]=n[1]}return t}function D(e,t){switch(t){case"easy":return U(e.slice(0,20));case"medium":return U(e.slice(0,24));case"hard":return U(e.slice(0,30))}}r(47);var L=function(e){Object(m.a)(r,e);var t=Object(S.a)(r);function r(e){var a;return Object(O.a)(this,r),(a=t.call(this,e)).resetGame=function(){a.props.setArrOfCards(D(g,a.props.difficulty)),a.props.setCardsState(Object(j.a)(a.props.arrOfCards).fill(0)),a.props.setMatch(null),a.props.resetNumOfTurns(),a.setState({win:!1,numOfGuessedCards:0})},a.test=function(){a.props.openAllCards(),a.winGame()},a.winGame=function(){var e=a.props.userName,t=a.props.currentTurns;a.setState({win:!0});var r=Object(b.a)({},e,t),n=JSON.parse(localStorage.getItem(a.props.difficulty));if(!(null!==n&&e in n&&n[e]<t)){var c=Object(f.a)(Object(f.a)({},n),r);localStorage.setItem(a.props.difficulty,JSON.stringify(c))}},a.handleEvent=function(e){var t=a.props,r=t.arrOfCards,n=t.openCard,c=t.closeCard,s=t.increaseNumOfTurns,i=t.match,u=t.setMatch,d=e.target;if("card--back"===d.className){var o=i,l=parseInt(d.innerText),f=r[l].split("-");if(n(l),"number"===typeof o){var b=r[o].split("-"),j=a.state.numOfGuessedCards;u(null),s(),f[0]===b[0]?(j+=2,a.setState({numOfGuessedCards:j},(function(){j===r.length&&a.winGame()}))):a.setState({clickable:!1},(function(){return setTimeout((function(){c(o),c(l),a.setState({clickable:!0})}),1e3)}))}else u(l)}},a.openLeaderboard=function(){a.setState({showLeader:!a.state.showLeader})},a.state={numOfGuessedCards:0,win:!1,clickable:!0,showLeader:!1},a.handleEvent=a.handleEvent.bind(Object(h.a)(a)),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.setArrOfCards(D(g,this.props.difficulty));case 2:return e.next=4,this.props.setCardsState(Object(j.a)(this.props.arrOfCards).fill(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.difficulty===this.props.difficulty){e.next=5;break}return e.next=3,this.props.setArrOfCards(D(g,this.props.difficulty));case 3:return e.next=5,this.props.setCardsState(Object(j.a)(this.props.arrOfCards).fill(0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"game",children:[this.state.showLeader?Object(a.jsx)(x,{toLeaderBoard:this.openLeaderboard}):null,this.state.win?Object(a.jsx)("h2",{children:"You are winner!"}):null,Object(a.jsxs)("div",{className:"game--main",children:[Object(a.jsx)(C,{onClick:this.state.clickable?this.handleEvent:null}),Object(a.jsx)(N,{toLeaderBoard:this.openLeaderboard,win:this.test,reset:this.resetGame})]})]})}}]),r}(c.a.Component),k=Object(u.b)((function(e){return{userName:e.user.currentUser,difficulty:e.user.currentDifficulty,currentTurns:e.user.currentTurns,arrOfCards:e.cards.arrOfCards,cardsState:e.cards.cardsState,match:e.cards.match}}),(function(e){return{setArrOfCards:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_ARR_OF_CARDS,payload:e}}(t))},openCard:function(t){return e(function(e){return{type:R.cardsActionTypes.OPEN_CARD,payload:e}}(t))},closeCard:function(t){return e(function(e){return{type:R.cardsActionTypes.CLOSE_CARD,payload:e}}(t))},increaseNumOfTurns:function(){return e({type:A.userActionTypes.INCREASE_NUM_OF_TURNS,payload:1})},resetNumOfTurns:function(){return e({type:A.userActionTypes.RESET_NUM_OF_TURNS,payload:0})},setMatch:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_MATCH,payload:e}}(t))},setCardsState:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_CARDS_STATE,payload:e}}(t))},openAllCards:function(){return e({type:R.cardsActionTypes.OPEN_ALL_CARDS})}}}))(L);r(48);var w=Object(u.b)((function(e){return{userName:e.user.currentUser,difficulty:e.user.currentDifficulty}}),(function(e){return{setCurrentUser:function(t){return e((r=t,{type:A.userActionTypes.SET_CURRENT_USER,payload:r}));var r},setCurrentDifficulty:function(t){return e((r=t,{type:A.userActionTypes.SET_CURRENT_DIFFICULTY,payload:r}));var r}}}))((function(e){var t=e.setCurrentDifficulty,r=e.setCurrentUser,c=e.userName,s=e.difficulty,i=Object(n.useState)(!0),u=Object(v.a)(i,2),d=u[0],o=u[1],l=function(e){var a=e.target.value;switch(e.target.name){case"userName":return r(a);case"difficulty":return t(a);default:return}};return d?Object(a.jsx)(E,{children:Object(a.jsx)("div",{className:"game-settings",children:Object(a.jsxs)("form",{className:"game-settings--form",id:"form",onSubmit:function(e){if(e.preventDefault(),""===c)return document.querySelector("#name").classList.toggle("error"),void setTimeout((function(){return document.querySelector("#name").classList.toggle("error")}),500);o(!1)},children:[Object(a.jsx)("input",{type:"text",name:"userName",id:"name",placeholder:"Your name...",onChange:l,className:"game-settings--form--input",value:c}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"difficulty",children:"Choose a difficulty:"}),Object(a.jsxs)("select",{id:"difficulty",name:"difficulty",value:s,onChange:l,className:"game-settings--form--select",children:[Object(a.jsx)("option",{value:"easy",children:"Easy"}),Object(a.jsx)("option",{value:"medium",children:"Medium"}),Object(a.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(a.jsx)("input",{type:"submit",value:"Done"})]})})}):null}));var F=function(e){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(w,{}),Object(a.jsx)(k,{})]})},M=r(7),I=r(26),P=function(e,t){var r=Object(j.a)(e);return r[t]=1,Object(j.a)(r)},G=function(e){return Object(j.a)(e.fill(1))},J=function(e,t){var r=Object(j.a)(e);return r[t]=0,Object(j.a)(r)},B=r(6).cardsActionTypes,H={arrOfCards:[],cardsState:[],match:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.SET_MATCH:return Object(f.a)(Object(f.a)({},e),{},{match:t.payload});case B.SET_CARDS_STATE:return Object(f.a)(Object(f.a)({},e),{},{cardsState:t.payload});case B.SET_ARR_OF_CARDS:return Object(f.a)(Object(f.a)({},e),{},{arrOfCards:t.payload});case B.OPEN_CARD:return Object(f.a)(Object(f.a)({},e),{},{cardsState:P(e.cardsState,t.payload)});case B.OPEN_ALL_CARDS:return Object(f.a)(Object(f.a)({},e),{},{cardsState:G(e.cardsState)});case B.CLOSE_CARD:return Object(f.a)(Object(f.a)({},e),{},{cardsState:J(e.cardsState,t.payload)});default:return e}},q=r(8).userActionTypes,z={currentUser:"",currentDifficulty:"easy",currentTurns:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.SET_CURRENT_USER:return Object(f.a)(Object(f.a)({},e),{},{currentUser:t.payload});case q.SET_CURRENT_DIFFICULTY:return Object(f.a)(Object(f.a)({},e),{},{currentDifficulty:t.payload});case q.INCREASE_NUM_OF_TURNS:return Object(f.a)(Object(f.a)({},e),{},{currentTurns:e.currentTurns+t.payload});case q.RESET_NUM_OF_TURNS:return Object(f.a)(Object(f.a)({},e),{},{currentTurns:t.payload});default:return e}},Q=Object(M.c)({cards:Y,user:K}),V=[I.logger],W=Object(M.d)(Q,M.a.apply(void 0,V));r(49);i.a.render(Object(a.jsx)(u.a,{store:W,children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(F,{})})}),document.getElementById("root"))},6:function(e,t,r){"use strict";r.r(t),r.d(t,"cardsActionTypes",(function(){return a}));var a={OPEN_CARD:"OPEN_CARD",OPEN_ALL_CARDS:"OPEN_ALL_CARDS",CLOSE_CARD:"CLOSE_CARD",SET_ARR_OF_CARDS:"SET_ARR_OF_CARDS",SET_CARDS_STATE:"SET_CARDS_STATE",SET_MATCH:"SET_MATCH"}},8:function(e,t,r){"use strict";r.r(t),r.d(t,"userActionTypes",(function(){return a}));var a={SET_CURRENT_USER:"SET_CURRENT_USER",SET_CURRENT_DIFFICULTY:"SET_CURRENT_DIFFICULTY",INCREASE_NUM_OF_TURNS:"INCREASE_NUM_OF_TURNS",RESET_NUM_OF_TURNS:"RESET_NUM_OF_TURNS"}}},[[50,1,2]]]);
//# sourceMappingURL=main.2d1bcbcf.chunk.js.map