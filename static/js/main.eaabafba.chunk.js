(this.webpackJsonptraining=this.webpackJsonptraining||[]).push([[0],{39:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(1),s=r.n(n),c=r(12),i=r.n(c),u=r(3),d=r(13),o=r(14),l=r(8),f=r(18),b=r(17),j=(r(39),r(11)),O=r.n(j),p=r(23),h=r(2),m=r(15),S=r(5);r(41);var C=function(e){return Object(a.jsx)("div",{className:"card",children:e.backSide?Object(a.jsx)("div",{className:"card--back",children:e.idx}):Object(a.jsx)("div",{className:"card--face ".concat(e.suit),children:Object(a.jsx)("p",{className:"card--face--number",children:e.number})})})};r(42);var T=Object(u.b)((function(e){return{arrOfCards:e.cards.arrOfCards,cardsState:e.cards.cardsState}}))((function(e){var t=e.arrOfCards,r=e.cardsState,n=e.onClick;return Object(a.jsx)("div",{className:"cardDesk",onClick:n,children:t.map((function(e,t){return Object(a.jsx)(C,{idx:t,number:e.split("-")[0],suit:e.split("-")[1],backSide:0===r[t]},t)}))})})),y=r(26),v=(r(43),function(e){var t=e.disabled,r=e.children,n=Object(y.a)(e,["disabled","children"]);return Object(a.jsx)("button",Object(h.a)(Object(h.a)({className:"".concat(t?"disabled":null," custom-button")},n),{},{children:r}))});r(44);var N=Object(u.b)((function(e){return{userName:e.user.currentUser,currentTurns:e.user.currentTurns}}))((function(e){return Object(a.jsxs)("div",{className:"deck",children:[Object(a.jsxs)("div",{className:"deck--elements player",children:["Player: ",e.userName]}),Object(a.jsxs)("div",{className:"deck--elements turn",children:["Turn: ",e.currentTurns]}),Object(a.jsx)(v,{onClick:e.toLeaderBoard,children:"Leaderboard"}),Object(a.jsx)(v,{onClick:e.reset,children:"Reset"}),Object(a.jsx)(v,{onClick:e.win,children:"Cheat"})]})})),_=r(28);r(45);var E=function(e){return Object(a.jsx)("div",{className:"modal-window",children:e.children})};r(46);var x=function(e){var t=Object(n.useState)(localStorage.getItem("CardGame")),r=Object(_.a)(t,2),s=r[0],c=r[1];return Object(a.jsx)(E,{children:Object(a.jsxs)("div",{className:"leaderboard",children:[Object(a.jsxs)("table",{className:"leaderboard--table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Player Name"}),Object(a.jsx)("th",{children:"Number of Turns"})]})}),Object(a.jsx)("tbody",{children:null!==s?function(e){var t=JSON.parse(e),r=[];for(var a in t)r.push([a,t[a]]);return r}(s).map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e[0]}),Object(a.jsx)("td",{children:e[1]})]},t)})):null})]}),Object(a.jsxs)("div",{className:"leaderboard--controls",children:[Object(a.jsx)(v,{onClick:function(){localStorage.clear(),c(null)},children:"Clear Leaderboard"}),Object(a.jsx)(v,{onClick:e.toLeaderBoard,children:"Close"})]})]})})},R=r(7),A=function(e){return{type:R.cardsActionTypes.OPEN_CARD,payload:e}},U=r(9),g=["2-diamonds","2-clubs","2-hearts","2-spades","3-diamonds","3-clubs","3-hearts","3-spades","4-diamonds","4-clubs","4-hearts","4-spades","5-diamonds","5-clubs","5-hearts","5-spades","6-diamonds","6-clubs","6-hearts","6-spades","7-diamonds","7-clubs","7-hearts","7-spades","8-diamonds","8-clubs","8-hearts","8-spades","9-diamonds","9-clubs","9-hearts","9-spades"];function D(e){for(var t=JSON.parse(JSON.stringify(e)),r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),n=[t[a],t[r]];t[r]=n[0],t[a]=n[1]}return t}function k(e,t){switch(t){case"easy":return D(e.slice(0,20));case"medium":return D(e.slice(0,24));case"hard":return D(e.slice(0,30))}}r(47);var w=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).resetGame=function(){a.props.setArrOfCards(k(g,a.props.difficulty)),a.props.setCardsState(Object(S.a)(a.props.arrOfCards).fill(0)),a.props.setMatch(null),a.props.resetNumOfTurns(),a.setState({win:!1})},a.test=function(){a.props.cardsState.map((function(e,t){return A(t)})),a.winGame()},a.winGame=function(){var e=a.props.userName,t=a.props.currentTurns;a.setState({win:!0});var r=Object(m.a)({},e,t),n=JSON.parse(localStorage.getItem("CardGame")),s=Object(h.a)(Object(h.a)({},n),r);localStorage.setItem("CardGame",JSON.stringify(s))},a.handleEvent=function(e){var t=a.props,r=t.arrOfCards,n=t.openCard,s=t.closeCard,c=t.increaseNumOfTurns,i=t.match,u=t.setMatch,d=e.target;if("card--back"===d.className){var o=i,l=parseInt(d.innerText),f=r[l].split("-");if(n(l),"number"===typeof o){var b=r[o].split("-"),j=a.state.numOfGuessedCards;u(null),c(),f[0]===b[0]?(j+=2,a.setState({numOfGuessedCards:j},(function(){j===r.length&&a.winGame()}))):a.setState({clickable:!1},(function(){return setTimeout((function(){s(o),s(l),a.setState({clickable:!0})}),1e3)}))}else u(l)}},a.openLeaderboard=function(){a.setState({showLeader:!a.state.showLeader})},a.state={numOfGuessedCards:0,win:!1,clickable:!0,showLeader:!1},a.handleEvent=a.handleEvent.bind(Object(l.a)(a)),a}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.setArrOfCards(k(g,this.props.difficulty));case 2:return e.next=4,this.props.setCardsState(Object(S.a)(this.props.arrOfCards).fill(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.difficulty===this.props.difficulty){e.next=5;break}return e.next=3,this.props.setArrOfCards(k(g,this.props.difficulty));case 3:return e.next=5,this.props.setCardsState(Object(S.a)(this.props.arrOfCards).fill(0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"game",children:[this.state.showLeader?Object(a.jsx)(x,{toLeaderBoard:this.openLeaderboard}):null,this.state.win?Object(a.jsx)("h2",{children:"You are winner!"}):null,Object(a.jsxs)("div",{className:"game--main",children:[Object(a.jsx)(T,{onClick:this.state.clickable?this.handleEvent:null}),Object(a.jsx)(N,{toLeaderBoard:this.openLeaderboard,win:this.test,reset:this.resetGame})]})]})}}]),r}(s.a.Component),F=Object(u.b)((function(e){return{userName:e.user.currentUser,difficulty:e.user.currentDifficulty,currentTurns:e.user.currentTurns,arrOfCards:e.cards.arrOfCards,cardsState:e.cards.cardsState,match:e.cards.match}}),(function(e){return{setArrOfCards:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_ARR_OF_CARDS,payload:e}}(t))},openCard:function(t){return e(A(t))},closeCard:function(t){return e(function(e){return{type:R.cardsActionTypes.CLOSE_CARD,payload:e}}(t))},increaseNumOfTurns:function(){return e({type:U.userActionTypes.INCREASE_NUM_OF_TURNS,payload:1})},resetNumOfTurns:function(){return e({type:U.userActionTypes.RESET_NUM_OF_TURNS,payload:0})},setMatch:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_MATCH,payload:e}}(t))},setCardsState:function(t){return e(function(e){return{type:R.cardsActionTypes.SET_CARDS_STATE,payload:e}}(t))}}}))(w);r(48);var L=Object(u.b)((function(e){return{userName:e.user.currentUser,difficulty:e.user.currentDifficulty}}),(function(e){return{setCurrentUser:function(t){return e((r=t,{type:U.userActionTypes.SET_CURRENT_USER,payload:r}));var r},setCurrentDifficulty:function(t){return e((r=t,{type:U.userActionTypes.SET_CURRENT_DIFFICULTY,payload:r}));var r}}}))((function(e){var t=e.setCurrentDifficulty,r=e.setCurrentUser,n=e.userName,s=e.difficulty,c=e.submit,i=function(e){var a=e.target.value;switch(e.target.name){case"userName":return r(a);case"difficulty":return t(a);default:return}};return Object(a.jsx)(E,{children:Object(a.jsx)("div",{className:"game-settings",children:Object(a.jsxs)("form",{className:"game-settings--form",id:"form",onSubmit:c,children:[Object(a.jsx)("input",{type:"text",name:"userName",id:"name",placeholder:"Your name...",onChange:i,className:"game-settings--form--input",value:n}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"difficulty",children:"Choose a difficulty:"}),Object(a.jsxs)("select",{id:"difficulty",name:"difficulty",value:s,onChange:i,className:"game-settings--form--select",children:[Object(a.jsx)("option",{value:"easy",children:"Easy"}),Object(a.jsx)("option",{value:"medium",children:"Medium"}),Object(a.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(a.jsx)("input",{type:"submit",value:"Done"})]})})})})),M=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={showModal:!0},a.submitForm=a.submitForm.bind(Object(l.a)(a)),a}return Object(o.a)(r,[{key:"submitForm",value:function(e){if(e.preventDefault(),""===this.state.userName)return document.querySelector("#name").classList.toggle("error"),void setTimeout((function(){return document.querySelector("#name").classList.toggle("error")}),500);this.setState({showModal:!1})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[this.state.showModal?Object(a.jsx)(L,{submit:this.submitForm}):null,Object(a.jsx)(F,{})]})}}]),r}(s.a.Component),I=r(6),G=r(27),J=function(e,t){var r=Object(S.a)(e);return r[t]=1,Object(S.a)(r)},P=function(e,t){var r=Object(S.a)(e);return r[t]=0,Object(S.a)(r)},Y=r(7).cardsActionTypes,B={arrOfCards:[],cardsState:[],match:""},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.SET_MATCH:return Object(h.a)(Object(h.a)({},e),{},{match:t.payload});case Y.SET_CARDS_STATE:return Object(h.a)(Object(h.a)({},e),{},{cardsState:t.payload});case Y.SET_ARR_OF_CARDS:return Object(h.a)(Object(h.a)({},e),{},{arrOfCards:t.payload});case Y.OPEN_CARD:return Object(h.a)(Object(h.a)({},e),{},{cardsState:J(e.cardsState,t.payload)});case Y.CLOSE_CARD:return Object(h.a)(Object(h.a)({},e),{},{cardsState:P(e.cardsState,t.payload)});default:return e}},q=r(9).userActionTypes,z={currentUser:"",currentDifficulty:"easy",currentTurns:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.SET_CURRENT_USER:return Object(h.a)(Object(h.a)({},e),{},{currentUser:t.payload});case q.SET_CURRENT_DIFFICULTY:return Object(h.a)(Object(h.a)({},e),{},{currentDifficulty:t.payload});case q.INCREASE_NUM_OF_TURNS:return Object(h.a)(Object(h.a)({},e),{},{currentTurns:e.currentTurns+t.payload});case q.RESET_NUM_OF_TURNS:return Object(h.a)(Object(h.a)({},e),{},{currentTurns:t.payload});default:return e}},Q=Object(I.c)({cards:H,user:K}),V=[G.logger],W=Object(I.d)(Q,I.a.apply(void 0,V));r(49);i.a.render(Object(a.jsx)(u.a,{store:W,children:Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(M,{})})}),document.getElementById("root"))},7:function(e,t,r){"use strict";r.r(t),r.d(t,"cardsActionTypes",(function(){return a}));var a={OPEN_CARD:"OPEN_CARD",CLOSE_CARD:"CLOSE_CARD",SET_ARR_OF_CARDS:"SET_ARR_OF_CARDS",SET_CARDS_STATE:"SET_CARDS_STATE",SET_MATCH:"SET_MATCH"}},9:function(e,t,r){"use strict";r.r(t),r.d(t,"userActionTypes",(function(){return a}));var a={SET_CURRENT_USER:"SET_CURRENT_USER",SET_CURRENT_DIFFICULTY:"SET_CURRENT_DIFFICULTY",INCREASE_NUM_OF_TURNS:"INCREASE_NUM_OF_TURNS",RESET_NUM_OF_TURNS:"RESET_NUM_OF_TURNS"}}},[[50,1,2]]]);
//# sourceMappingURL=main.eaabafba.chunk.js.map