{"version":3,"sources":["components/card-item/card-item.component.jsx","components/card-collection/card-collection.component.jsx","components/custom-button/custom-button.component.jsx","components/deck/deck.component.jsx","components/modal-window/modal-window.component.jsx","components/leaderboard/leaderboard.component.jsx","redux/cards/cards.actions.js","components/game/game.data.js","components/game/game.utils.js","components/game/game.component.jsx","redux/user/user.actions.js","components/welcome-window/welcome.component.jsx","App.js","redux/cards/cards.utils.js","redux/cards/cards.reducer.js","redux/user/user.reducer.js","redux/root-reducer.js","redux/store.js","index.js","redux/cards/cards.types.js","redux/user/user.types.js"],"names":["Card","props","className","backSide","idx","suit","number","connect","state","arrOfCards","cards","cardsState","onClick","map","card","index","split","CustomButton","disabled","children","otherProps","userName","user","currentUser","currentTurns","toLeaderBoard","reset","win","ModalWindow","LeaderBoard","useState","localStorage","getItem","data","setData","tempData","JSON","parse","gameData","name","push","makeArrFromData","value","clear","openCard","type","cardsActionTypes","OPEN_CARD","payload","newCollection","shuffle","array","newArr","stringify","i","length","j","Math","floor","random","createRandomCards","collection","difficulty","slice","Game","resetGame","setArrOfCards","setCardsState","fill","setMatch","resetNumOfTurns","setState","test","winGame","turn","newRecord","oldRecords","tempObj","setItem","handleEvent","e","closeCard","increaseNumOfTurns","match","target","prevIndex","curIndex","parseInt","innerText","curCard","prevCard","GuessedCards","numOfGuessedCards","clickable","setTimeout","openLeaderboard","showLeader","bind","this","prevProps","React","Component","currentDifficulty","dispatch","arr","SET_ARR_OF_CARDS","CLOSE_CARD","userActionTypes","INCREASE_NUM_OF_TURNS","RESET_NUM_OF_TURNS","SET_MATCH","SET_CARDS_STATE","setCurrentUser","SET_CURRENT_USER","setCurrentDifficulty","SET_CURRENT_DIFFICULTY","submit","handleChange","evt","id","onSubmit","placeholder","onChange","htmlFor","App","showModal","submitForm","preventDefault","document","querySelector","classList","toggle","openCardHelper","cardItems","copyItems","closeCardHelper","require","INITIAL_STATE","cardsReducer","action","userReducer","combineReducers","middlewares","logger","store","createStore","rootReducer","applyMiddleware","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eaabafba.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./card-item.styles.scss\";\r\n\r\nfunction Card(props) {\r\n  return (\r\n    <div className=\"card\">\r\n      {/* Если сторона задняя то просто рубашка */}\r\n      {props.backSide ? (\r\n        <div className=\"card--back\">{props.idx}</div>\r\n      ) : (\r\n        <div className={`card--face ${props.suit}`}>\r\n          {/* В зависимости от suit будем менять стиль карты*/}\r\n          <p className=\"card--face--number\">{props.number}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Card from \"../card-item/card-item.component\";\r\n\r\nimport \"./card-collection.styles.scss\";\r\n\r\n// const generateKey = (pre) => {\r\n//   return `${ pre }_${ new Date().getTime() }`;\r\n// }\r\n\r\nfunction CardCollection({ arrOfCards, cardsState, onClick }) {\r\n  return (\r\n    <div className=\"cardDesk\" onClick={onClick}>\r\n      {arrOfCards.map((card, index) => {\r\n        return (\r\n          <Card\r\n            key={index}\r\n            idx={index}\r\n            number={card.split(\"-\")[0]}\r\n            suit={card.split(\"-\")[1]}\r\n            backSide={cardsState[index] === 0 ? true : false}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  arrOfCards: state.cards.arrOfCards,\r\n  cardsState: state.cards.cardsState,\r\n});\r\n\r\nexport default connect(mapStateToProps)(CardCollection);\r\n","import React from \"react\";\r\n\r\nimport \"./custom-button.styles.scss\";\r\n\r\nconst CustomButton = ({ disabled, children, ...otherProps }) => (\r\n  <button\r\n    className={`${disabled ? \"disabled\" : null} custom-button`}\r\n    {...otherProps}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\nexport default CustomButton;\r\n","import { connect } from \"react-redux\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\nimport \"./deck.styles.scss\";\r\n\r\nfunction Deck(props) {\r\n  return (\r\n    <div className=\"deck\">\r\n      <div className=\"deck--elements player\">Player: {props.userName}</div>\r\n      <div className=\"deck--elements turn\">Turn: {props.currentTurns}</div>\r\n      <CustomButton onClick={props.toLeaderBoard}>Leaderboard</CustomButton>\r\n      <CustomButton onClick={props.reset}>Reset</CustomButton>\r\n      <CustomButton onClick={props.win}>Cheat</CustomButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.user.currentUser,\r\n  currentTurns: state.user.currentTurns,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Deck);\r\n","import \"./modal-window.styles.scss\";\r\n\r\nfunction ModalWindow(props) {\r\n  return <div className=\"modal-window\">{props.children}</div>;\r\n}\r\n\r\nexport default ModalWindow;\r\n","import { useState } from \"react\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\nimport ModalWindow from \"../modal-window/modal-window.component\";\r\nimport \"./leaderboard.styles.scss\";\r\n\r\nfunction LeaderBoard(props) {\r\n  const [data, setData] = useState(localStorage.getItem(\"CardGame\"));\r\n\r\n  function clearLeaderboard() {\r\n    localStorage.clear();\r\n    setData(null);\r\n  }\r\n\r\n  function makeArrFromData(data) {\r\n    let tempData = JSON.parse(data);\r\n    let gameData = [];\r\n    for (let name in tempData) {\r\n      gameData.push([name, tempData[name]]);\r\n    }\r\n    return gameData;\r\n  }\r\n\r\n  return (\r\n    <ModalWindow>\r\n      <div className=\"leaderboard\">\r\n        <table className=\"leaderboard--table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Player Name</th>\r\n              <th>Number of Turns</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data !== null\r\n              ? makeArrFromData(data).map((value, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td>{value[0]}</td>\r\n                      <td>{value[1]}</td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              : null}\r\n          </tbody>\r\n        </table>\r\n        <div className=\"leaderboard--controls\">\r\n          <CustomButton onClick={clearLeaderboard}>\r\n            Clear Leaderboard\r\n          </CustomButton>\r\n          <CustomButton onClick={props.toLeaderBoard}>Close</CustomButton>\r\n        </div>\r\n      </div>\r\n    </ModalWindow>\r\n  );\r\n}\r\n\r\nexport default LeaderBoard;\r\n","import { cardsActionTypes } from \"./cards.types\";\r\n\r\nexport const openCard = (index) => ({\r\n  type: cardsActionTypes.OPEN_CARD,\r\n  payload: index,\r\n});\r\n\r\nexport const closeCard = (index) => ({\r\n  type: cardsActionTypes.CLOSE_CARD,\r\n  payload: index,\r\n});\r\n\r\nexport const setArrOfCards = (arr) => ({\r\n  type: cardsActionTypes.SET_ARR_OF_CARDS,\r\n  payload: arr,\r\n});\r\n\r\nexport const setCardsState = (arr) => ({\r\n  type: cardsActionTypes.SET_CARDS_STATE,\r\n  payload: arr,\r\n});\r\n\r\nexport const setMatch = (index) => ({\r\n  type: cardsActionTypes.SET_MATCH,\r\n  payload: index,\r\n});\r\n","export let collection = [\r\n  [2, \"diamonds\", 0],\r\n  [2, \"clubs\", 0],\r\n  [2, \"hearts\", 0],\r\n  [2, \"spades\", 0],\r\n  [3, \"diamonds\", 0],\r\n  [3, \"clubs\", 0],\r\n  [3, \"hearts\", 0],\r\n  [3, \"spades\", 0],\r\n  [4, \"diamonds\", 0],\r\n  [4, \"clubs\", 0],\r\n  [4, \"hearts\", 0],\r\n  [4, \"spades\", 0],\r\n  [5, \"diamonds\", 0],\r\n  [5, \"clubs\", 0],\r\n  [5, \"hearts\", 0],\r\n  [5, \"spades\", 0],\r\n  [6, \"diamonds\", 0],\r\n  [6, \"clubs\", 0],\r\n  [6, \"hearts\", 0],\r\n  [6, \"spades\", 0],\r\n  [7, \"diamonds\", 0],\r\n  [7, \"clubs\", 0],\r\n  [7, \"hearts\", 0],\r\n  [7, \"spades\", 0],\r\n  [8, \"diamonds\", 0],\r\n  [8, \"clubs\", 0],\r\n  [8, \"hearts\", 0],\r\n  [8, \"spades\", 0],\r\n  [9, \"diamonds\", 0],\r\n  [9, \"clubs\", 0],\r\n  [9, \"hearts\", 0],\r\n  [9, \"spades\", 0],\r\n  [10, \"diamonds\", 0],\r\n  [10, \"clubs\", 0],\r\n  [10, \"hearts\", 0],\r\n  [10, \"spades\", 0],\r\n];\r\n\r\nexport let newCollection = [\r\n  \"2-diamonds\",\r\n  \"2-clubs\",\r\n  \"2-hearts\",\r\n  \"2-spades\",\r\n  \"3-diamonds\",\r\n  \"3-clubs\",\r\n  \"3-hearts\",\r\n  \"3-spades\",\r\n  \"4-diamonds\",\r\n  \"4-clubs\",\r\n  \"4-hearts\",\r\n  \"4-spades\",\r\n  \"5-diamonds\",\r\n  \"5-clubs\",\r\n  \"5-hearts\",\r\n  \"5-spades\",\r\n  \"6-diamonds\",\r\n  \"6-clubs\",\r\n  \"6-hearts\",\r\n  \"6-spades\",\r\n  \"7-diamonds\",\r\n  \"7-clubs\",\r\n  \"7-hearts\",\r\n  \"7-spades\",\r\n  \"8-diamonds\",\r\n  \"8-clubs\",\r\n  \"8-hearts\",\r\n  \"8-spades\",\r\n  \"9-diamonds\",\r\n  \"9-clubs\",\r\n  \"9-hearts\",\r\n  \"9-spades\",\r\n];\r\n","export function shuffle(array) {\r\n  let newArr = JSON.parse(JSON.stringify(array));\r\n  for (let i = newArr.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    [newArr[i], newArr[j]] = [newArr[j], newArr[i]];\r\n  }\r\n  return newArr;\r\n}\r\n\r\nexport function createRandomCards(collection, difficulty) {\r\n  let newArr = [];\r\n  switch (difficulty) {\r\n    // В зависимости от сложности игры мы берём разное кол-во карт из коллекции\r\n    case \"easy\":\r\n      newArr = collection.slice(0, 20);\r\n      return shuffle(newArr);\r\n    case \"medium\":\r\n      newArr = collection.slice(0, 24);\r\n      return shuffle(newArr);\r\n    case \"hard\":\r\n      newArr = collection.slice(0, 30);\r\n      return shuffle(newArr);\r\n    default:\r\n      break;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport CardCollection from \"../card-collection/card-collection.component.jsx\";\r\nimport Deck from \"../deck/deck.component.jsx\";\r\nimport LeaderBoard from \"../leaderboard/leaderboard.component.jsx\";\r\nimport {\r\n  closeCard,\r\n  openCard,\r\n  setArrOfCards,\r\n  setCardsState,\r\n  setMatch,\r\n} from \"../../redux/cards/cards.actions.js\";\r\nimport {\r\n  increaseNumOfTurns,\r\n  resetNumOfTurns,\r\n} from \"../../redux/user/user.actions.js\";\r\nimport { newCollection } from \"./game.data.js\";\r\nimport { createRandomCards } from \"./game.utils\";\r\n\r\nimport \"./game.styles.scss\";\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numOfGuessedCards: 0,\r\n      win: false,\r\n      clickable: true,\r\n      showLeader: false,\r\n    };\r\n    this.handleEvent = this.handleEvent.bind(this);\r\n  }\r\n\r\n  // Когда компонент монтируется, то на основе выбранной ранее сложности замешивается колода\r\n  async componentDidMount() {\r\n    await this.props.setArrOfCards(\r\n      createRandomCards(newCollection, this.props.difficulty)\r\n    );\r\n    await this.props.setCardsState([...this.props.arrOfCards].fill(0));\r\n  }\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    if (prevProps.difficulty !== this.props.difficulty) {\r\n      await this.props.setArrOfCards(\r\n        createRandomCards(newCollection, this.props.difficulty)\r\n      );\r\n      await this.props.setCardsState([...this.props.arrOfCards].fill(0));\r\n    }\r\n  }\r\n\r\n  resetGame = () => {\r\n    this.props.setArrOfCards(\r\n      createRandomCards(newCollection, this.props.difficulty)\r\n    );\r\n    this.props.setCardsState([...this.props.arrOfCards].fill(0));\r\n    this.props.setMatch(null);\r\n    this.props.resetNumOfTurns();\r\n    this.setState({\r\n      win: false,\r\n    });\r\n  };\r\n\r\n  // For testing\r\n  test = () => {\r\n    let stateArr = this.props.cardsState;\r\n    stateArr.map((value, index) => openCard(index));\r\n    this.winGame();\r\n  };\r\n\r\n  winGame = () => {\r\n    let userName = this.props.userName;\r\n    let turn = this.props.currentTurns;\r\n    this.setState({\r\n      win: true,\r\n    });\r\n    let newRecord = { [userName]: turn };\r\n    let oldRecords = JSON.parse(localStorage.getItem(\"CardGame\"));\r\n    let tempObj = { ...oldRecords, ...newRecord };\r\n    localStorage.setItem(\"CardGame\", JSON.stringify(tempObj));\r\n  };\r\n\r\n  handleEvent = (e) => {\r\n    const {\r\n      arrOfCards,\r\n      openCard,\r\n      closeCard,\r\n      increaseNumOfTurns,\r\n      match,\r\n      setMatch,\r\n    } = this.props;\r\n    let target = e.target;\r\n    if (target.className === \"card--back\") {\r\n      let prevIndex = match;\r\n      // Будем узнавать карту по индексу, который лежит в кач-ве innnerText\r\n      let curIndex = parseInt(target.innerText);\r\n      let curCard = arrOfCards[curIndex].split(\"-\");\r\n      // В любом случае открываем карту\r\n      openCard(curIndex);\r\n      // Если у нас уже есть открытая карта\r\n      if (typeof prevIndex === \"number\") {\r\n        let prevCard = arrOfCards[prevIndex].split(\"-\");\r\n        let GuessedCards = this.state.numOfGuessedCards;\r\n        setMatch(null);\r\n        increaseNumOfTurns();\r\n        // Если ранеее открытая карта === текущей открытой карте\r\n        if (curCard[0] === prevCard[0]) {\r\n          GuessedCards += 2;\r\n          this.setState(\r\n            {\r\n              numOfGuessedCards: GuessedCards,\r\n            },\r\n            // Если мы отгадали вообще все карты\r\n            () => {\r\n              if (GuessedCards === arrOfCards.length) this.winGame();\r\n            }\r\n          );\r\n          // ранеее открытая карта != текущей открытой карте\r\n        } else {\r\n          // Тогда откроем её, запретим на секунду кликать по картам\r\n          this.setState(\r\n            {\r\n              clickable: false,\r\n            },\r\n            // А через 1с закроем обе\r\n            () =>\r\n              setTimeout(() => {\r\n                closeCard(prevIndex);\r\n                closeCard(curIndex);\r\n                this.setState({ clickable: true });\r\n              }, 1000)\r\n          );\r\n        }\r\n      } else {\r\n        // Если у нас нету ранее открытой карты\r\n        setMatch(curIndex);\r\n      }\r\n    } else return;\r\n  };\r\n\r\n  openLeaderboard = () => {\r\n    this.setState({\r\n      showLeader: !this.state.showLeader,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"game\">\r\n        {this.state.showLeader ? (\r\n          <LeaderBoard toLeaderBoard={this.openLeaderboard} />\r\n        ) : null}\r\n        {this.state.win ? <h2>You are winner!</h2> : null}\r\n        <div className=\"game--main\">\r\n          <CardCollection\r\n            onClick={this.state.clickable ? this.handleEvent : null}\r\n          />\r\n          <Deck\r\n            toLeaderBoard={this.openLeaderboard}\r\n            win={this.test}\r\n            reset={this.resetGame}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.user.currentUser,\r\n  difficulty: state.user.currentDifficulty,\r\n  currentTurns: state.user.currentTurns,\r\n  arrOfCards: state.cards.arrOfCards,\r\n  cardsState: state.cards.cardsState,\r\n  match: state.cards.match,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setArrOfCards: (arr) => dispatch(setArrOfCards(arr)),\r\n  openCard: (index) => dispatch(openCard(index)),\r\n  closeCard: (index) => dispatch(closeCard(index)),\r\n  increaseNumOfTurns: () => dispatch(increaseNumOfTurns()),\r\n  resetNumOfTurns: () => dispatch(resetNumOfTurns()),\r\n  setMatch: (index) => dispatch(setMatch(index)),\r\n  setCardsState: (arr) => dispatch(setCardsState(arr)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\r\n","import { userActionTypes } from \"./user.types\";\r\n\r\nexport const setCurrentUser = (userName) => ({\r\n  type: userActionTypes.SET_CURRENT_USER,\r\n  payload: userName,\r\n});\r\n\r\nexport const setCurrentDifficulty = (difficulty) => ({\r\n  type: userActionTypes.SET_CURRENT_DIFFICULTY,\r\n  payload: difficulty,\r\n});\r\n\r\nexport const increaseNumOfTurns = () => ({\r\n  type: userActionTypes.INCREASE_NUM_OF_TURNS,\r\n  payload: 1,\r\n});\r\n\r\nexport const resetNumOfTurns = () => ({\r\n  type: userActionTypes.RESET_NUM_OF_TURNS,\r\n  payload: 0,\r\n});\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setCurrentDifficulty,\r\n  setCurrentUser,\r\n} from \"../../redux/user/user.actions\";\r\nimport ModalWindow from \"../modal-window/modal-window.component\";\r\n\r\nimport \"./welcome.styles.scss\";\r\n\r\nfunction Welcome({\r\n  setCurrentDifficulty,\r\n  setCurrentUser,\r\n  userName,\r\n  difficulty,\r\n  submit,\r\n}) {\r\n  let handleChange = (evt) => {\r\n    const value = evt.target.value;\r\n    const name = evt.target.name;\r\n    switch (name) {\r\n      case \"userName\":\r\n        return setCurrentUser(value);\r\n      case \"difficulty\":\r\n        return setCurrentDifficulty(value);\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ModalWindow>\r\n      <div className=\"game-settings\">\r\n        <form className=\"game-settings--form\" id=\"form\" onSubmit={submit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            id=\"name\"\r\n            placeholder=\"Your name...\"\r\n            onChange={handleChange}\r\n            className=\"game-settings--form--input\"\r\n            value={userName}\r\n          />\r\n          <div>\r\n            <label htmlFor=\"difficulty\">Choose a difficulty:</label>\r\n            <select\r\n              id=\"difficulty\"\r\n              name=\"difficulty\"\r\n              value={difficulty}\r\n              onChange={handleChange}\r\n              className=\"game-settings--form--select\"\r\n            >\r\n              <option value=\"easy\">Easy</option>\r\n              <option value=\"medium\">Medium</option>\r\n              <option value=\"hard\">Hard</option>\r\n            </select>\r\n          </div>\r\n\r\n          <input type=\"submit\" value=\"Done\" />\r\n        </form>\r\n      </div>\r\n    </ModalWindow>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.user.currentUser,\r\n  difficulty: state.user.currentDifficulty,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setCurrentUser: (user) => dispatch(setCurrentUser(user)),\r\n  setCurrentDifficulty: (user) => dispatch(setCurrentDifficulty(user)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Welcome);\r\n","import React from \"react\";\n\nimport \"./App.css\";\nimport \"./components/game/game.component\";\nimport Game from \"./components/game/game.component\";\nimport Welcome from \"./components/welcome-window/welcome.component\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: true,\n    };\n    this.submitForm = this.submitForm.bind(this);\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    if (this.state.userName === \"\") {\n      document.querySelector(\"#name\").classList.toggle(\"error\");\n      setTimeout(\n        () => document.querySelector(\"#name\").classList.toggle(\"error\"),\n        500\n      );\n      return;\n    }\n    this.setState({\n      showModal: false,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.showModal ? <Welcome submit={this.submitForm} /> : null}\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const openCardHelper = (cardItems, idx) => {\r\n  let copyItems = [...cardItems];\r\n  copyItems[idx] = 1;\r\n  return [...copyItems];\r\n};\r\n\r\nexport const closeCardHelper = (cardItems, idx) => {\r\n  let copyItems = [...cardItems];\r\n  copyItems[idx] = 0;\r\n  return [...copyItems];\r\n};\r\n","import { closeCardHelper, openCardHelper } from \"./cards.utils\";\r\n\r\nconst { cardsActionTypes } = require(\"./cards.types\");\r\n\r\nconst INITIAL_STATE = {\r\n  arrOfCards: [],\r\n  cardsState: [],\r\n  match: \"\",\r\n};\r\n\r\nconst cardsReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case cardsActionTypes.SET_MATCH:\r\n      return {\r\n        ...state,\r\n        match: action.payload,\r\n      };\r\n    case cardsActionTypes.SET_CARDS_STATE:\r\n      return {\r\n        ...state,\r\n        cardsState: action.payload,\r\n      };\r\n    case cardsActionTypes.SET_ARR_OF_CARDS:\r\n      return {\r\n        ...state,\r\n        arrOfCards: action.payload,\r\n      };\r\n    case cardsActionTypes.OPEN_CARD:\r\n      return {\r\n        ...state,\r\n        cardsState: openCardHelper(state.cardsState, action.payload),\r\n      };\r\n    case cardsActionTypes.CLOSE_CARD:\r\n      return {\r\n        ...state,\r\n        cardsState: closeCardHelper(state.cardsState, action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cardsReducer;\r\n","const { userActionTypes } = require(\"./user.types\");\r\n\r\nconst INITIAL_STATE = {\r\n  currentUser: \"\",\r\n  currentDifficulty: \"easy\",\r\n  currentTurns: 0,\r\n};\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case userActionTypes.SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n      };\r\n    case userActionTypes.SET_CURRENT_DIFFICULTY:\r\n      return {\r\n        ...state,\r\n        currentDifficulty: action.payload,\r\n      };\r\n    case userActionTypes.INCREASE_NUM_OF_TURNS:\r\n      return {\r\n        ...state,\r\n        currentTurns: state.currentTurns + action.payload,\r\n      };\r\n    case userActionTypes.RESET_NUM_OF_TURNS:\r\n      return {\r\n        ...state,\r\n        currentTurns: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport cardsReducer from \"./cards/cards.reducer\";\r\nimport userReducer from \"./user/user.reducer\";\r\n\r\nexport default combineReducers({\r\n  cards: cardsReducer,\r\n  user: userReducer,\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { logger } from \"redux-logger\";\r\n\r\nimport rootReducer from \"./root-reducer\";\r\n\r\nconst middlewares = [logger];\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport store from \"./redux/store\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","export const cardsActionTypes = {\r\n  OPEN_CARD: \"OPEN_CARD\",\r\n  CLOSE_CARD: \"CLOSE_CARD\",\r\n  SET_ARR_OF_CARDS: \"SET_ARR_OF_CARDS\",\r\n  SET_CARDS_STATE: \"SET_CARDS_STATE\",\r\n  SET_MATCH: \"SET_MATCH\",\r\n};\r\n","export const userActionTypes = {\r\n  SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n  SET_CURRENT_DIFFICULTY: \"SET_CURRENT_DIFFICULTY\",\r\n  INCREASE_NUM_OF_TURNS: \"INCREASE_NUM_OF_TURNS\",\r\n  RESET_NUM_OF_TURNS: \"RESET_NUM_OF_TURNS\",\r\n};\r\n"],"sourceRoot":""}